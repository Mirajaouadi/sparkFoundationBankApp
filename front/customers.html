<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Bank Application</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="assets/vendor/fontawesome-free/css/all.min.css"
    />
  </head>

  <body>
    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top">
      <div
        class="container-fluid container-xl d-flex align-items-center justify-content-between"
      >
        <a href="index.html" class="logo d-flex align-items-center">
          <img src="assets/img/logo.png" alt="" />
          <span>Online  Bank</span>
        </a>
        <nav id="navbar" class="navbar">
          <ul>
            <li>
              <a class="nav-link scrollto " href="index.html">Home</a>
            </li>
            <li>
              <a class="nav-link scrollto active" href="customers.html">Customers</a>
            </li>
            <li>
              <a class="nav-link scrollto" href="transactions.html">Transactions</a
              >
            </li>
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
        </nav>
        <!-- .navbar -->
      </div>
    </header>
    <!-- End Header -->

    <!-- ======= Hero Section ======= -->

    <section class="mt-5">
      <div class="col-8 m-auto">
        <table class="table table-hover" id="listCustomers">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Balance</th>
              <th colspan="3">Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
              
        
              <div class="text-center">
                <a type="button" class="btn btn-primary m-auto " href="addCust.html" >Add costumer </a>
                </div>
      </div>
    </section>

   

    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>

    <script>
      // Définir une requête de connection standard JS
      var request = new XMLHttpRequest();
      // Choisir la méthode GET comme une méthode d'accès au serveur et récupérer les données .
      request.open("GET", "http://127.0.0.1:3000/user1s", true);
      // Load les données à partir de la serveur -> Début connection
      request.onload = function () {
        // Begin accessing JSON data here
        var data = JSON.parse(this.response);
        var table = document.getElementById("listCustomers");
        console.log(data);
        var j = 1;
        data.forEach((i) => {
          // Insérer une ligne dans le tableau
          var row = table.insertRow(-1);
          // Insérer des cellules dans le tableau
          var cell1 = row.insertCell(0);
          var cell2 = row.insertCell(1);
          var cell3 = row.insertCell(2);
          var cell4 = row.insertCell(3);
          var cell5 = row.insertCell(4);
          var cell6 = row.insertCell(5);
          var cell7 = row.insertCell(6);

          cell1.innerHTML = j;
          cell2.innerHTML = i.name;
          cell3.innerHTML = i.email;
          cell4.innerHTML = i.balance;
          cell5.innerHTML =
            `<a href="viewCustomer.html?id=` +
            i._id +
            `"><i class="fas fa-eye"></i></a>`;
          cell6.innerHTML =
            `<a href="editCustomer.html?id=` +
            i._id +
            `"><i class="fas fa-pen"></i></a>`;
          cell7.innerHTML =
            `<a href="deleteCustomer.html?id=` +
            i._id +
            `"><i class="fas fa-trash"></i></a>`;
          j = j + 1;
        });
      };
      // Send request
      request.send();
    </script>
  </body>
</html>
